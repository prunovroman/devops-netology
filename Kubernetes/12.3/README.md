# Результаты домашнего задания "12.3 Развертывание кластера на собственных серверах, лекция 1"

Поработав с персональным кластером, можно заняться проектами. Вам пришла задача подготовить кластер под новый проект.

## Задание 1: Описать требования к кластеру

Сначала проекту необходимо определить требуемые ресурсы. Известно, что проекту нужны база данных, система кеширования, а само приложение состоит из бекенда и фронтенда. Опишите, какие ресурсы нужны, если известно:

* База данных должна быть отказоустойчивой. Потребляет 4 ГБ ОЗУ в работе, 1 ядро. 3 копии.
* Кэш должен быть отказоустойчивый. Потребляет 4 ГБ ОЗУ в работе, 1 ядро. 3 копии.
* Фронтенд обрабатывает внешние запросы быстро, отдавая статику. Потребляет не более 50 МБ ОЗУ на каждый экземпляр, 0.2 ядра. 5 копий.
* Бекенд потребляет 600 МБ ОЗУ и по 1 ядру на копию. 10 копий.

План расчета

1. Сначала сделайте расчет всех необходимых ресурсов.
2. Затем прикиньте количество рабочих нод, которые справятся с такой нагрузкой.
3. Добавьте к полученным цифрам запас, который учитывает выход из строя как минимум одной ноды.
4. Добавьте служебные ресурсы к нодам. Помните, что для разных типов нод требовния к ресурсам разные.
5. Рассчитайте итоговые цифры.
6. В результате должно быть указано количество нод и их параметры.

---

| Сервер | Количество    | RAM, Гб       | HDD, Гб        | CPU, ядро  | всего RAM, Гб     | всего CPU, ядер   | всего HDD, Гб  |
| ----------- |:---------------:|:-------------:|:---------------:|:----------:|:-----------------:|:-----------------:|:---------------:|
| DB          | 3               | 4             | 20              | 2          | 12                | 6                 | 60              |
| Cache         | 4               | 4             | 10              | 1          | 16                | 4                 | 40              |
| Frontend       | 5               | 0,05          | 1               | 0,2        | 0,25              | 1                 | 5               |
| Backend         | 10              | 0,6           | 5               | 1          | 6                 | 6                 | 50              |
| Итого       | -               | -             | -               | -          | 40                | 23                | 305             |

Расчёт минимального необходимой мощности для обслуживающего ПО:

|Тип сервера    | Количество   | CPU, ядро     | ОЗУ, ГБ         | HDD, ГБ         | CPU, всего      | RAM, Гб, всего    | HDD, Гб, всего   |
|:------------- |:-------------| :-------------| :-------------  | :-------------  |:-------------| :-------------| :-------------|
| Control node  |2             |2              |2                |50               | 4            | 4             |100            |
| Worker node   |3             |2              |2                |100              | 6            | 6             |300            |
| Итого         |              |               |                 |                 | 10           | 10            |400            |
